
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AE Hub</title>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            fetch("sidebar.html")
                .then(response => response.text())
                .then(data => {
                    document.getElementById("sidebar-container").innerHTML = data;
                })
                .then(() => {
                    document.querySelector(".menu-toggle").addEventListener("click", function() {
                        document.querySelector(".sidebar").classList.toggle("collapsed");
                        updateFixedTextPosition();
                    });
                });

            fetch("topbar.html")
                .then(response => response.text())
                .then(data => {
                    document.getElementById("topbar-container").innerHTML = data;
                });

            function updateFixedTextPosition() {
                const fixedText = document.querySelector(".fixed-text");
                const sidebar = document.querySelector(".sidebar");
                if (sidebar.classList.contains("collapsed")) {
                    fixedText.style.left = "80px"; // Новая позиция при свёрнутой панели
                } else {
                    fixedText.style.left = "280px"; // Оригинальная позиция
                }
            }
        });
        
        document.addEventListener("DOMContentLoaded", function() {
        fetch("mission_control_panel.html")
        
        .then(response => response.text())
        .then(data => {document.getElementById("mission-control-container").innerHTML = data;
        initTimers();})
        });
        document.addEventListener("DOMContentLoaded", function() {
        fetch("automatic_pick_area_panel.html")
        
        .then(response => response.text())
        .then(data => {document.getElementById("automatic-pick-area").innerHTML = data;
        initTimers();})
        });
        function initTimers() {
            function startCountdown(elementId, durationInSeconds) {
                let timerElement = document.getElementById(elementId);
                if (!timerElement) return;

                let remainingTime = durationInSeconds;

                function updateTimerDisplay() {
                    let hours = Math.floor(remainingTime / 3600);
                    let minutes = Math.floor((remainingTime % 3600) / 60);
                    let seconds = remainingTime % 60;

                    let formattedTime =
                        String(hours).padStart(2, '0') + 'h:' +
                        String(minutes).padStart(2, '0') + 'm:' +
                        String(seconds).padStart(2, '0') + 's';

                    timerElement.textContent = formattedTime;
                }

                function countdown() {
                    if (remainingTime > 0) {
                        remainingTime--;
                        updateTimerDisplay();
                    } else {
                        clearInterval(interval);
                        timerElement.textContent = "Время истекло!";
                    }
                }

                updateTimerDisplay();
                let interval = setInterval(countdown, 1000);
            }
                // Запускаем таймеры с разным временем
            startCountdown("timer1", 8 * 60 + 35); // 5 минут
            startCountdown("timer2", 7 * 60 + 15); // 3 минуты 30 секунд
            startCountdown("timer3", 7 * 60 + 5); // 10 минут 15 секунд
            // Запускаем таймеры с разным временем
            startCountdown("timer4", 6 * 60 + 55); // 5 минут
            startCountdown("timer5", 13 * 60 + 12); // 3 минуты 30 секунд
            startCountdown("timer6", 10 * 60 + 22); // 10 минут 15 секунд
    }
    </script>
    <style>
    .fixed-text {
        position: absolute;
        top: 10px;
        left: 280px; /* Начальное положение */
        white-space: nowrap;
        font-size: 20px;
        font-weight: bold;
        padding: 5px 10px;
        background: linear-gradient(to right, #3498db, #9b59b6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        transition: left 0.3s ease-in-out; /* Плавное изменение позиции */
    }



    @font-face {
        font-family: 'Sen';
        src: url('/fonts/Sen-Regular.ttf') format('truetype');
        font-weight: normal;
        font-style: normal;
    }

    @font-face {
        font-family: 'Sen';
        src: url('/fonts/Sen-Bold.ttf') format('truetype');
        font-weight: bold;
        font-style: normal;
    }
    

    .header {
        text-align: center;
        font-size: 24px;
        font-weight: bold;
        color: #333;
        margin-bottom: 20px;
    }

    .dashboard {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 20px;
        max-width: 1000px;
        margin: 0 auto;
    }

    .card {
        background: white;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        /* text-align: center; */
    }

    .card h2 {
        color: #9b59b6;
        font-size: 20px;
        margin-bottom: 10px;
    }

    .card p {
        color: #666;
        font-size: 14px;
    }

    button {
        background: #a12d9b;
        color: white;
        border: none;
        padding: 10px 15px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: background 0.3s;
    }
    button:hover {
        background: #666;
    }

    .highlight {
      color: #9b59b6;
      font-weight: bold;
    }
  </style>
</head>
<body>
    <div class="container">
      <div id="sidebar-container"></div>
      <div style="width: 100%;">
        <div id="topbar-container"></div> <div class="fixed-text">Mission Control</div>
          <main class="content">

              <section class="dashboard">
                <div class="card">
                    <div id="mission-control-container"></div>
                </div>
              </section>

              <section class="dashboard">
                    <div style="height: 20px;"></div>
              </section>

              <section class="dashboard">
                <div class="card">
                    <div id="automatic-pick-area"></div>
                </div>
              </section>

          </main>
      </div>
    </div>

</body>
</html>
